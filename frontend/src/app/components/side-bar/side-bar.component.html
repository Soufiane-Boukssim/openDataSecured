<!-- Sidebar grand écran -->
<div class="d-none d-md-flex flex-column flex-shrink-0 p-3 text-white bg-dark vh-100">
  <a routerLink="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
    <img src="../../../assets/images/logo.jpg" alt="Logo" width="40" height="40" class="me-2 rounded-circle border border-white">
    <span class="fs-4 fw-bold">Admin Dashboard</span>
  </a>
  <hr>
  <ul class="nav nav-pills flex-column mb-auto">
    <li>
      <a routerLink="/admin/home" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-house-door me-2"></i> Home
      </a>
    </li>
    <li>
      <a routerLink="/admin/dataSetThemes" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-tags me-2"></i> Themes
      </a>
    </li>



    <li class="mb-1">
      <button class="btn btn-toggle text-white"
              type="button"
              id="toggleProducteurs"
              aria-expanded="false">
        <i class="bi bi-folder me-2"></i> Producteurs
      </button>
      
    <div class="collapse ms-4" id="producteurs-collapse">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a
            routerLink="/admin/producteurs/organisations"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link text-white d-flex align-items-center"
          >
            <i class="bi bi-building me-2"></i> Organisations
          </a>
        </li>
        <li class="nav-item">
          <a
            routerLink="/admin/producteurs/members"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            class="nav-link text-white d-flex align-items-center"
          >
            <i class="bi bi-people me-2"></i> Membres
          </a>
        </li>
      </ul>
    </div>



    </li>

    
    
    
    <li>
      <a routerLink="/admin/donnees" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-bar-chart me-2"></i> Données
      </a>
    </li>
    <li>
      <a routerLink="/admin/chatBot" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-robot me-2"></i> ChatBot
      </a>
    </li>
  </ul>
  <hr class="mt-auto">

<div class="dropdown dropup" [class.show]="isDropdownOpen">
  <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
     (click)="toggleDropdown($event)" 
     [attr.aria-expanded]="isDropdownOpen">
    <img src="assets/images/admin.png" alt="" width="32" height="32" class="rounded-circle me-2">
    <strong>Boukssim Soufiane</strong>
  </a>
  <ul class="dropdown-menu dropdown-menu-dark text-small shadow" [class.show]="isDropdownOpen">
    <li>
      <a class="dropdown-item" href="#" (click)="openLogoutModal($event)">
        <i class="bi bi-box-arrow-right me-2"></i> Sign out
      </a>
    </li>

  </ul>
</div>
  
</div>

<!-- Sidebar petit écran -->
<div class="d-flex d-md-none flex-column flex-shrink-0 p-3 text-white bg-dark vh-100">
  <a routerLink="/" class="d-flex align-items-center mb-3 text-white text-decoration-none justify-content-center">
    <img src="../../../assets/images/logo.jpg" alt="Logo Mobile" width="40" height="40" class="rounded-circle border border-white">
  </a>
  <hr>
  <ul class="nav nav-pills flex-column mb-auto text-center">
    <li>
      <a routerLink="/admin/home" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-house-door fs-5"></i>
      </a>
    </li>
    <li>
      <a routerLink="/admin/dataSetThemes" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-tags fs-5"></i>
      </a>
    </li>
    <li>
      <a routerLink="/admin/producteurs/organisations" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-building fs-5"></i>
      </a>
    </li>
    <li>
      <a routerLink="/admin/producteurs/members" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-people fs-5"></i>
      </a>
    </li>
    <li>
      <a routerLink="/admin/donnees" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-bar-chart fs-5"></i>
      </a>
    </li>
    <li>
      <a routerLink="/admin/chatBot" routerLinkActive="active" class="nav-link text-white">
        <i class="bi bi-robot fs-5"></i>
      </a>
    </li>
  </ul>
  <hr class="mt-auto">
</div>

<!-- Dropdown image profil seulement (mobile) -->
<div class="dropdown dropup text-center" [class.show]="isDropdownMobileOpen">
  <a href="#" 
     class="d-block link-light text-decoration-none dropdown-toggle"
     (click)="toggleDropdownMobile($event)" 
     [attr.aria-expanded]="isDropdownMobileOpen"
     aria-haspopup="true" aria-controls="dropdownUserMobileMobile">
    <img src="assets/images/admin.png" alt="Profil" width="32" height="32" class="rounded-circle" />
  </a>
  <ul id="dropdownUserMobileMobile" 
      class="dropdown-menu dropdown-menu-dark text-small shadow" 
      [class.show]="isDropdownMobileOpen" 
      aria-labelledby="dropdownUserMobile">
    <li>
      <a class="dropdown-item" href="#" (click)="openLogoutModal($event)">
        <i class="bi bi-box-arrow-right me-2"></i> Sign out
      </a>
    </li>

  </ul>
</div>









<!-- Modal Logout Confirmation -->
<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true" #logoutModalRef>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-dark">
      <div class="modal-header">
        <h5 class="modal-title" id="logoutModalLabel">Confirmer la déconnexion</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeLogoutModal()"></button>
      </div>
      <div class="modal-body">
        Êtes-vous sûr de vouloir vous déconnecter ?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeLogoutModal()">Annuler</button>
        <button type="button" class="btn btn-danger" (click)="confirmLogout()">Déconnexion</button>
      </div>
    </div>
  </div>
</div>
